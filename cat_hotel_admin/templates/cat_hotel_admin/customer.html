{% extends 'cat_hotel_admin/components/base.html' %}

{% block content %}
<div class="col-xl-10 col-lg-7 mb-4 ml-auto mr-auto mt-">
    <div class="d-flex justify-content-end mb-3">
      <form class="form-inline" method="GET" action="{% url 'search_customer' %}">
        <input type="text" class="form-control" name="query" placeholder="Search" value="{{ search_query }}">
        <button type="submit" class="btn btn-primary ml-2">Search</button>
      </form>
    </div>
    <div class="card">
      <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
        <h5 class="m-0 font-weight-bold text-primary">ประวัติลูกค้า</h5>
      </div>
     
      <div class="table-responsive pd-3">
        <table class="table align-items-center table-flush">
          <thead class="thead-light">
            <tr>
              <th>ID</th>
              <th>Username</th>
              <th>First Name</th>
              <th>Last Name</th>
              <th>Email</th>
            </tr>
          </thead>
          <tbody>
            {% for customer in customers %}
            <tr>
              <td>{{ customer.id }}</td>
              <td>{{ customer.username }}</td>
              <td>{{ customer.first_name }}</td>  
              <td>{{ customer.last_name }}</td>
              <td>{{ customer.email }}</td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="6" class="text-center">ไม่พบลูกค้า</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
</div>
{% endblock %}
